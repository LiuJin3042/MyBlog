# 数据流

## 数据流重定向

1. 将命令的输出写入文件

   ```
   # ls -al / > ./rootfiles # 写入到rootfiles
   # ls -al / >> ./rootfiles # 追加到rootfiles
   ```

2. 将命令报错写入文件

   ```
   # ls -al /notadir 2> ./rootfiles # 写入到rootfiles
   # ls -al /notadir 2>> ./rootfiles # 追加到rootfiles
   # ls -al /notadir 2> /dev/null # /dev/null是一个黑洞, 扔进去的东西就没了 
   ```

3. 将正确和报错都写入同一个文件

   ```
   # ls -al / > ./rootfiles 2>&1 # 写入到rootfiles, &1指代rootfiles
   ```

4. 从文件读取

   ```
   # ls < listfile
   ```

## 一定条件下执行命令

1. `;分隔符`:连续执行多个命令

   ```
   # ls;touch newfile
   ```

2. `&&分隔符`: 在前一条命令不报错的时候执行下一条命令

   ```
   # ls /tmp && touch /tmp/newfile # /tmp目录存在时创建/tmp/newfile
   ```

3. `||分隔符`: 在前一条命令报错的时候执行下一条命令

   ```
   # ls /tmp/newfile || touch /tmp/newfile # 如果/tmp/newfile不存在就创建它
   ```

   